/*! @amzn/aps-mraid.js - v1.4.0 - 2023-08-01 15:21:05 */!function(n){var o={};function r(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,i="1.4.0",u=P(),a=0,c={error:[],ready:[],sizeChange:[],stateChange:[],exposureChange:[],viewableChange:[]},d=function(e){switch(e){case"browser-test":return{postMessage:function(e){console.log(e)}};case"ios":return window.webkit.messageHandlers.amzn_bridge;case"android":return window.amzn_bridge;default:return null}}(u.deviceOS),l=!1,p=[],f=!1,g=!1,m=[[]],y=0,w=[],b={getVersion:function(){return u.version},addEventListener:function(e,t){Array.isArray(c[e])?"function"!=typeof t?M("Function was not provided for event listener","addEventListener"):c[e].push(t):M("".concat(e," is not a valid MRAID event"),"addEventListener")},removeEventListener:function(e,t){Array.isArray(c[e])&&(c[e]=void 0===t?[]:c[e].filter(function(e){return e!==t}))},open:function(e,t){void 0===e?M("URL must be provided for 'open' command","open"):"string"!=typeof e?M("Invalid argument type '".concat(s(e),"': Must be 'string'"),"open"):void 0!==t&&"object"!==s(t)?M("Invalid argument type '".concat(s(t),"': Must be 'object'"),"open"):v(z("mraid","open",{url:e,options:t}))},close:function(){v(z("mraid","close",{}))},unload:function(){v(z("mraid","unload",{}))},useCustomClose:function(e){void 0===e?M("No argument passed into useCustomClose'","useCustomClose"):"boolean"!=typeof e||null===e?M("Invalid argument type '".concat(s(e),"': Must be 'boolean'"),"useCustomClose"):(u.expandProperties.useCustomClose=e,v(z("mraid","useCustomClose",{state:u.expandProperties.useCustomClose})))},expand:function(e){void 0!==e&&"string"!=typeof e?M("Invalid argument type '".concat(s(e),"': Must be 'string'"),"expand"):v(z("mraid","expand",{url:e,orientation:u.orientationProperties,position:u.expandProperties}))},isViewable:function(){return u.isViewable},playVideo:function(){M("playVideo is not yet supported","playVideo")},resize:function(){u.resizeProperties.setByAd||M("setResizeProperties must be called with values set prior to resize","resize"),v(z("mraid","resize",u.resizeProperties))},storePicture:function(){M("storePicture is not yet supported","storePicture")},createCalendarEvent:function(){M("createCalendarEvent is not yet supported","createCalendarEvent")},getScreenSize:function(){return u.screenSize},getMaxSize:function(){return u.maxSize},supports:function(e){return u.supports[e]},getPlacementType:function(){return u.placementType},getOrientationProperties:function(){return u.orientationProperties},setOrientationProperties:function(e){void 0===e?M("No argument passed into setOrientationProperties'","setOrientationProperties"):"object"!==s(e)||null===e?M("Invalid argument type '".concat(s(e),"': Must be 'object'"),"setOrientationProperties"):A("orientationProperties",{allowOrientationChange:"boolean",forceOrientation:"string"},e)},getCurrentAppOrientation:function(){return u.currentAppOrientation},getCurrentPosition:function(){return u.currentPosition},getDefaultPosition:function(){return u.defaultPosition},getState:function(){return u.state},getExpandProperties:function(){return u.expandProperties},setExpandProperties:function(e){void 0===e?M("No argument passed into setExpandProperties","setExpandProperties"):"object"!==s(e)||null===e?M("Invalid argument type '".concat(s(e),"': Must be 'object'"),"setExpandProperties"):(A("expandProperties",{width:"number",height:"number",useCustomClose:"boolean",isModal:"boolean"},e),u.expandProperties.setByAd=!0)},getResizeProperties:function(){return u.resizeProperties},setResizeProperties:function(e){void 0===e?M("No argument passed into setResizeProperties","setResizeProperties"):"object"!==s(e)||null===e?M("Invalid argument type '".concat(s(e),"': Must be 'object'"),"setResizeProperties"):(A("resizeProperties",{width:"number",height:"number",offsetX:"number",offsetY:"number",customClosePosition:"string",allowOffscreen:"boolean"},e),u.resizeProperties.setByAd=!0)},getLocation:function(){return u.location}};for(r in b)"function"==typeof b[r]&&(b[r]=function(o,r){return function(){var e,t,n;return e=y,t=o,n=function(e){if("string"==typeof e&&100<e.length)return"".concat(e.substring(0,97),"...");return e}(arguments[0]),m[e].push({m:t,a:n,t:Date.now(),d:Date.now()-a}),r.apply(void 0,arguments)}}(r,b[r]));function v(e){p.push(e),l||(h(p[0]),l=!0)}function h(e){try{"android"===u.deviceOS?d.postMessage(JSON.stringify(e)):"ios"===u.deviceOS?d.postMessage(e):console.log("Posting parcel: ".concat(JSON.stringify(e))),p=p.filter(function(e,t){return 0!==t})}catch(e){M("Problem posting parcel to host","postParcel")}}function P(){return{version:"3.0",deviceOS:function(){var e=/(iphone|ipod|ipad|mac).*applewebkit.*/g.test(window.navigator.userAgent.toLowerCase()),t=/linux.*android.*/g.test(window.navigator.userAgent.toLowerCase());{if(e)return"ios";if(t)return"android"}return"browser-test"}(),supports:{sms:null,tel:null,calendar:null,storePicture:null,inlineVideo:null,vpaid:null,location:null},placementType:null,currentPosition:null,defaultPosition:null,currentAppOrientation:null,orientationProperties:{allowOrientationChange:!0,forceOrientation:"none"},state:"loading",expandProperties:{width:window.screen.width,height:window.screen.height,useCustomClose:!1,isModal:!0,setByAd:!1},maxSize:null,screenSize:null,resizeProperties:{width:window.screen.width,height:window.screen.height,offsetX:-1,offsetY:-1,customClosePosition:"top-right",allowOffscreen:!1,setByAd:!1},location:null,isViewable:!1}}function z(e,t,n){return{type:e,subtype:t,arguments:n}}function S(e,t){-1===Object.keys(c).indexOf(e)?M("".concat(e," is not a valid MRAID event"),"checkListeners"):c[e].forEach(function(e){try{e.apply(void 0,n(t))}catch(e){console.error(e),window.mraidBridge.service.logMessage("Error event: ".concat(e))}})}function A(e,t,n){for(var o in t)n.hasOwnProperty(o)&&s(n[o])!==t[o]?M("Invalid data type '".concat(o,"': Must be '").concat(t[o],"'"),"validateAndAssign"):n.hasOwnProperty(o)&&s(n[o])===t[o]&&(!("expandProperties"===e||"resizeProperties"===e&&n.hasOwnProperty("allowOffscreen")&&!1===n.allowOffscreen)||"width"!==o&&"height"!==o?u[e][o]=n[o]:(r=u[e],i=n[o=o],a=void 0,a=i,void 0===u.maxSize[o]?M("Unable to set resize or expand size without maxSize set prior","validateSizeValues"):(i>u.maxSize[o]&&(M("Size value of ".concat(i," exceeds maxSize value of ").concat(u.maxSize[o]),"validateSizeValues"),a=u.maxSize[o]),r[o]=a)));var r,i,a}function x(e){return"aax.amazon-adsystem.com"===e?"aax-dtb-mobile-geo.amazon-adsystem.com":e}function M(e,t){window.mraidBridge.service.logMessage("Error event | type: ".concat(t,", message: ").concat(e)),window.mraidBridge.event.error(e),g&&(t={lv:i,ts:Date.now(),_type:"apsLibraryError",e:{et:t,msg:e}},window.MRAID_ENV&&window.MRAID_ENV.amznAdInfo&&window.MRAID_ENV.amznAdInfo.bidID&&window.MRAID_ENV.amznAdInfo.aaxHost?O(t,window.MRAID_ENV.amznAdInfo.bidID,x(window.MRAID_ENV.amznAdInfo.aaxHost)):E(t),w.push(t))}window.mraid=b;var C=[];function I(){return"?cb="+Math.round(1e7*Math.random())}function O(e,t,n){N("https://".concat(n,"/x/px/").concat(t,"/").concat(D(e)).concat(I()))}function E(e){N("https://aax-us-east.amazon-adsystem.com/x/px/p/PH/".concat(D(e)).concat(I()))}function D(e){e._tl="aps-mraid";e=JSON.stringify(e).replace(/\\.{1}/g,"");return encodeURIComponent(e)}function N(e){(new Image).src=e,C.push(e)}function R(){g&&window.setTimeout(function(){{var e;0<m[y].length&&(e={lv:i,ts:Date.now(),_type:"mraidMethods",methodsLog:m[y]},window.MRAID_ENV&&window.MRAID_ENV.amznAdInfo&&window.MRAID_ENV.amznAdInfo.bidID&&window.MRAID_ENV.amznAdInfo.aaxHost?O(e,window.MRAID_ENV.amznAdInfo.bidID,x(window.MRAID_ENV.amznAdInfo.aaxHost)):E(e),m.push([]),y++)}R()},5e3)}window.mraidBridge={service:{logMessage:function(e){e=z("service","log",{message:e.toString()});"android"===u.deviceOS?d.postMessage(JSON.stringify(e)):"ios"===u.deviceOS?d.postMessage(e):console.log("LogMessage to host: ".concat(JSON.stringify(e)))},pushCommand:function(e){v(e)},postParcel:function(e){h(e)},acknowledgement:function(e){f&&this.logMessage("MRAID acknowledgement, ".concat(e)),l=!1,0<p.length&&(h(p[0]),l=!0)},debug:function(e){"string"!=typeof e||"enable"!==e&&"disable"!==e?M("debug takes a string argument of 'enable' or 'disable'","debug"):"enable"===e?(g=f=!0,R()):g=f=!1},mraidState:function(){var e={MRAID_ENV:window.MRAID_ENV,mraidCache:u,eventListeners:c,commandQueue:p,commandInFlight:l,debugMode:f,pixelSampling:g,methodsLog:m,errorsPixelLog:w,networkCalls:C};return console.log(e),this.logMessage(JSON.stringify(e)),e},reset:function(){u=P(),l=!1,p=[],m=[[]],y=0,w=[],C=[],Object.keys(c).forEach(function(e){c[e]=[]})}},event:{error:function(e,t){S("error",[e,t])},ready:function(){v(z("mraid","jsready",{})),a=Date.now(),S("ready",[])},sizeChange:function(e,t){S("sizeChange",[e,t])},stateChange:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"default",e=e.state||e;"string"==typeof e&&S("stateChange",[u.state=e])},exposureChange:function(e,t,n){S("exposureChange",[e,t,n])},viewableChange:function(e){S("viewableChange",[u.isViewable=e])}},property:{setCurrentPosition:function(e){u.currentPosition=e},setScreenSize:function(e){u.screenSize=e},setMaxSize:function(e){u.maxSize=e},setCurrentAppOrientation:function(e){u.currentAppOrientation=e},setSupports:function(e){u.supports=e},setPlacementType:function(e){u.placementType=e.type},setDefaultPosition:function(e){u.defaultPosition=e},setResizeProperties:function(e){u.resizeProperties=e},setLocation:function(e){u.location=e}}},function(e){try{var t=parseInt(e,10);if(!isNaN(t)){if(t<=0)return;if(100<=t)return 1;if(100*Math.random()<=t)return 1}}catch(e){}}(1)&&(g=!0,R())}]);